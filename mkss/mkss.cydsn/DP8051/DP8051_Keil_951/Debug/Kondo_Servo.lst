C51 COMPILER V9.51   KONDO_SERVO                                                           12/05/2015 15:02:18 PAGE 1   


C51 COMPILER V9.51, COMPILATION OF MODULE KONDO_SERVO
OBJECT MODULE PLACED IN .\DP8051\DP8051_Keil_951\Debug\Kondo_Servo.obj
COMPILER INVOKED BY: C:\Program Files (x86)\Cypress\PSoC Creator\3.3\PSoC Creator\import\keil\pk51\9.51\C51\BIN\c51.exe 
                    -.\Kondo_Servo.c NOIV LARGE MODDP2 OMF2 VB(1) NOIP INCDIR(.,Generated_Source\PSoC3) FF(3) DB DF(DEBUG) WL(2) PR(.\DP8051\
                    -DP8051_Keil_951\Debug/Kondo_Servo.lst) CD OT(2,SIZE) OJ(.\DP8051\DP8051_Keil_951\Debug\Kondo_Servo.obj)

line level    source

   1          #include "ICS3_5.h"
   2          
   3          int16 Free(uint8 ID)
   4          {
   5   1          int16 kakudo,Data,pos_h,pos_l,pos;
   6   1          uint8 i, tx[3], rx[6];
   7   1          char buffer[40];
   8   1          //ポジション
   9   1          tx[0]=0x80|ID;
  10   1          tx[1]=0x00;
  11   1          tx[2]=0x00;
  12   1          //送信
  13   1          UART_Servo_PutArray(tx,3);
  14   1          CyDelay(1);
  15   1          //受信
  16   1          for (i = 0;i < 6;i++){
  17   2              rx[i] = UART_Servo_GetChar(); // モーターからの返値を受け取り、rxに代入する
  18   2          }
  19   1          pos_h=((int)rx[4]<<7)&0x3f80; 
  20   1          pos_l=(int)rx[5]&0x7f;
  21   1          pos=pos_h|pos_l; //値に変換
  22   1          pos=(7500-pos)*0.0333333; //角度に変換
  23   1          return pos;
  24   1      }
*** WARNING C280 IN LINE 5 OF .\Kondo_Servo.c: 'kakudo': unreferenced local variable
*** WARNING C280 IN LINE 5 OF .\Kondo_Servo.c: 'Data': unreferenced local variable
*** WARNING C280 IN LINE 7 OF .\Kondo_Servo.c: 'buffer': unreferenced local variable
  25          
  26          void Pos_Set(uint8 ID, int16 kakudo){
  27   1          //int pos_h,pos_l,pos;
  28   1          int16 Data;
  29   1          uint8 i, tx[3], rx[6];
  30   1          Data = 7500 -( 30 * kakudo );
  31   1          tx[0]=0x80|ID;
  32   1          tx[1]=(unsigned char)(Data>>7) & 0x7F;
  33   1          tx[2]=(unsigned char)Data & 0x7F;
  34   1          UART_Servo_PutArray(tx,3);
  35   1          CyDelay(1);
  36   1      }
*** WARNING C280 IN LINE 29 OF .\Kondo_Servo.c: 'i': unreferenced local variable
*** WARNING C280 IN LINE 29 OF .\Kondo_Servo.c: 'rx': unreferenced local variable
  37          
  38          void ID_Read()
  39          {       
  40   1          int i,pos_h,pos_l,pos,kakudo,Data;
  41   1          uint8 tx[4], rx[6];
  42   1          char buffer[40];
  43   1          //ID読み込み
  44   1          tx[0]=0xFF;
  45   1          tx[1]=0x00;
  46   1          tx[2]=0x00;
  47   1          tx[3]=0x00;
  48   1      
C51 COMPILER V9.51   KONDO_SERVO                                                           12/05/2015 15:02:18 PAGE 2   

  49   1          //送信
  50   1          for (i = 0;i < 4;i++){
  51   2              UART_Servo_PutChar(tx[i]); // コマンドを１バイトずつ送信する
  52   2          }
  53   1          //受信
  54   1          for (i = 0;i < 5;i++){
  55   2              rx[i] = UART_Servo_GetChar(); // モーターからの返値を受け取り、rxに代入する
  56   2          }
  57   1          sprintf(buffer,"%x,%x,%x,%x,%x\n",(int)rx[0], (int)rx[1], (int)rx[2], (int)rx[3], (int)rx[4]);
  58   1      }
*** WARNING C280 IN LINE 40 OF .\Kondo_Servo.c: 'pos_h': unreferenced local variable
*** WARNING C280 IN LINE 40 OF .\Kondo_Servo.c: 'pos_l': unreferenced local variable
*** WARNING C280 IN LINE 40 OF .\Kondo_Servo.c: 'pos': unreferenced local variable
*** WARNING C280 IN LINE 40 OF .\Kondo_Servo.c: 'kakudo': unreferenced local variable
*** WARNING C280 IN LINE 40 OF .\Kondo_Servo.c: 'Data': unreferenced local variable
  59          
  60          
  61          void ID_Write (uint8 ID)
  62          {
  63   1          uint8 i,tx[4], rx[6];
  64   1          char buffer[40];
  65   1          //ID書き込み
  66   1          tx[0]=0xE0|ID;
  67   1          tx[1]=0x01;
  68   1          tx[2]=0x01;
  69   1          tx[3]=0x01;
  70   1                  
  71   1          //送信
  72   1          for (i = 0;i < 4;i++){
  73   2              UART_Servo_PutChar(tx[i]); // コマンドを１バイトずつ送信する
  74   2          }
  75   1          //受信
  76   1          for (i = 0;i < 5;i++){
  77   2              rx[i] = UART_Servo_GetChar(); // モーターからの返値を受け取り、rxに代入する
  78   2          }       
  79   1          CyDelay(1000);
  80   1      }
*** WARNING C280 IN LINE 64 OF .\Kondo_Servo.c: 'buffer': unreferenced local variable
C51 COMPILER V9.51   KONDO_SERVO                                                           12/05/2015 15:02:18 PAGE 3   

ASSEMBLY LISTING OF GENERATED OBJECT CODE


             ; FUNCTION _Free (BEGIN)
                                           ; SOURCE LINE # 3
0000 900000      R     MOV     DPTR,#ID
0003 EF                MOV     A,R7
0004 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 4
                                           ; SOURCE LINE # 9
0005 900000      R     MOV     DPTR,#ID
0008 E0                MOVX    A,@DPTR
0009 FF                MOV     R7,A
000A EF                MOV     A,R7
000B 4480              ORL     A,#080H
000D FF                MOV     R7,A
000E 900000      R     MOV     DPTR,#tx
0011 EF                MOV     A,R7
0012 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 10
0013 900000      R     MOV     DPTR,#tx+01H
0016 E4                CLR     A
0017 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 11
0018 900000      R     MOV     DPTR,#tx+02H
001B E4                CLR     A
001C F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 13
001D 7B01              MOV     R3,#01H
001F 7A00        R     MOV     R2,#HIGH tx
0021 7900        R     MOV     R1,#LOW tx
0023 7D03              MOV     R5,#03H
0025 120000      E     LCALL   _UART_Servo_PutArray
                                           ; SOURCE LINE # 14
0028 7F01              MOV     R7,#01H
002A 7E00              MOV     R6,#00H
002C 7D00              MOV     R5,#00H
002E 7C00              MOV     R4,#00H
0030 120000      E     LCALL   _?CyDelay
                                           ; SOURCE LINE # 16
0033 900000      R     MOV     DPTR,#i
0036 E4                CLR     A
0037 F0                MOVX    @DPTR,A
0038         ?C0001:
0038 900000      R     MOV     DPTR,#i
003B E0                MOVX    A,@DPTR
003C FF                MOV     R7,A
003D EF                MOV     A,R7
003E C3                CLR     C
003F 9406              SUBB    A,#06H
0041 501C              JNC     ?C0002
                                           ; SOURCE LINE # 17
0043 120000      E     LCALL   UART_Servo_GetChar
0046 900000      R     MOV     DPTR,#i
0049 E0                MOVX    A,@DPTR
004A FE                MOV     R6,A
004B 7400        R     MOV     A,#LOW rx
004D 2E                ADD     A,R6
004E F582              MOV     DPL,A
0050 E4                CLR     A
0051 3400        R     ADDC    A,#HIGH rx
0053 F583              MOV     DPH,A
C51 COMPILER V9.51   KONDO_SERVO                                                           12/05/2015 15:02:18 PAGE 4   

0055 EF                MOV     A,R7
0056 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 18
0057 900000      R     MOV     DPTR,#i
005A E0                MOVX    A,@DPTR
005B 04                INC     A
005C F0                MOVX    @DPTR,A
005D 80D9              SJMP    ?C0001
005F         ?C0002:
                                           ; SOURCE LINE # 19
005F 900000      R     MOV     DPTR,#rx+04H
0062 E0                MOVX    A,@DPTR
0063 FF                MOV     R7,A
0064 7E00              MOV     R6,#00H
0066 EF                MOV     A,R7
0067 75F080            MOV     B,#080H
006A A4                MUL     AB
006B FF                MOV     R7,A
006C AEF0              MOV     R6,B
006E EE                MOV     A,R6
006F 543F              ANL     A,#03FH
0071 FE                MOV     R6,A
0072 EF                MOV     A,R7
0073 5480              ANL     A,#080H
0075 FF                MOV     R7,A
0076 900000      R     MOV     DPTR,#pos_h
0079 EE                MOV     A,R6
007A F0                MOVX    @DPTR,A
007B A3                INC     DPTR
007C EF                MOV     A,R7
007D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 20
007E 900000      R     MOV     DPTR,#rx+05H
0081 E0                MOVX    A,@DPTR
0082 FF                MOV     R7,A
0083 7E00              MOV     R6,#00H
0085 7E00              MOV     R6,#00H
0087 EF                MOV     A,R7
0088 547F              ANL     A,#07FH
008A FF                MOV     R7,A
008B 900000      R     MOV     DPTR,#pos_l
008E EE                MOV     A,R6
008F F0                MOVX    @DPTR,A
0090 A3                INC     DPTR
0091 EF                MOV     A,R7
0092 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 21
0093 900000      R     MOV     DPTR,#pos_l
0096 E0                MOVX    A,@DPTR
0097 FE                MOV     R6,A
0098 A3                INC     DPTR
0099 E0                MOVX    A,@DPTR
009A FF                MOV     R7,A
009B 900000      R     MOV     DPTR,#pos_h
009E E0                MOVX    A,@DPTR
009F FC                MOV     R4,A
00A0 A3                INC     DPTR
00A1 E0                MOVX    A,@DPTR
00A2 FD                MOV     R5,A
00A3 EC                MOV     A,R4
00A4 4E                ORL     A,R6
00A5 FE                MOV     R6,A
C51 COMPILER V9.51   KONDO_SERVO                                                           12/05/2015 15:02:18 PAGE 5   

00A6 ED                MOV     A,R5
00A7 4F                ORL     A,R7
00A8 FF                MOV     R7,A
00A9 900000      R     MOV     DPTR,#pos
00AC EE                MOV     A,R6
00AD F0                MOVX    @DPTR,A
00AE A3                INC     DPTR
00AF EF                MOV     A,R7
00B0 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 22
00B1 900000      R     MOV     DPTR,#pos
00B4 E0                MOVX    A,@DPTR
00B5 FE                MOV     R6,A
00B6 A3                INC     DPTR
00B7 E0                MOVX    A,@DPTR
00B8 FF                MOV     R7,A
00B9 C3                CLR     C
00BA 744C              MOV     A,#04CH
00BC 9F                SUBB    A,R7
00BD FD                MOV     R5,A
00BE 741D              MOV     A,#01DH
00C0 9E                SUBB    A,R6
00C1 FC                MOV     R4,A
00C2 EC                MOV     A,R4
00C3 120000      E     LCALL   ?C?FCASTI
00C6 7B80              MOV     R3,#080H
00C8 7A88              MOV     R2,#088H
00CA 7908              MOV     R1,#08H
00CC 783D              MOV     R0,#03DH
00CE 120000      E     LCALL   ?C?FPMUL
00D1 120000      E     LCALL   ?C?CASTF
00D4 900000      R     MOV     DPTR,#pos
00D7 EE                MOV     A,R6
00D8 F0                MOVX    @DPTR,A
00D9 A3                INC     DPTR
00DA EF                MOV     A,R7
00DB F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 23
00DC 900000      R     MOV     DPTR,#pos
00DF E0                MOVX    A,@DPTR
00E0 FE                MOV     R6,A
00E1 A3                INC     DPTR
00E2 E0                MOVX    A,@DPTR
00E3 FF                MOV     R7,A
                                           ; SOURCE LINE # 24
00E4         ?C0004:
00E4 22                RET     
             ; FUNCTION _Free (END)

             ; FUNCTION _Pos_Set (BEGIN)
                                           ; SOURCE LINE # 26
0000 900000      R     MOV     DPTR,#ID
0003 EF                MOV     A,R7
0004 F0                MOVX    @DPTR,A
0005 900000      R     MOV     DPTR,#kakudo
0008 EC                MOV     A,R4
0009 F0                MOVX    @DPTR,A
000A A3                INC     DPTR
000B ED                MOV     A,R5
000C F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 30
000D 900000      R     MOV     DPTR,#kakudo
C51 COMPILER V9.51   KONDO_SERVO                                                           12/05/2015 15:02:18 PAGE 6   

0010 E0                MOVX    A,@DPTR
0011 FE                MOV     R6,A
0012 A3                INC     DPTR
0013 E0                MOVX    A,@DPTR
0014 FF                MOV     R7,A
0015 7C00              MOV     R4,#00H
0017 7D1E              MOV     R5,#01EH
0019 120000      E     LCALL   ?C?IMUL
001C C3                CLR     C
001D 744C              MOV     A,#04CH
001F 9F                SUBB    A,R7
0020 FF                MOV     R7,A
0021 741D              MOV     A,#01DH
0023 9E                SUBB    A,R6
0024 FE                MOV     R6,A
0025 900000      R     MOV     DPTR,#Data
0028 EE                MOV     A,R6
0029 F0                MOVX    @DPTR,A
002A A3                INC     DPTR
002B EF                MOV     A,R7
002C F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 31
002D 900000      R     MOV     DPTR,#ID
0030 E0                MOVX    A,@DPTR
0031 FF                MOV     R7,A
0032 EF                MOV     A,R7
0033 4480              ORL     A,#080H
0035 FF                MOV     R7,A
0036 900000      R     MOV     DPTR,#tx
0039 EF                MOV     A,R7
003A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 32
003B 900000      R     MOV     DPTR,#Data
003E E0                MOVX    A,@DPTR
003F FE                MOV     R6,A
0040 A3                INC     DPTR
0041 E0                MOVX    A,@DPTR
0042 FF                MOV     R7,A
0043 EF                MOV     A,R7
0044 7807              MOV     R0,#07H
0046         ?C0020:
0046 CE                XCH     A,R6
0047 A2E7              MOV     C,ACC.7
0049 13                RRC     A
004A CE                XCH     A,R6
004B 13                RRC     A
004C D8F8              DJNZ    R0,?C0020
004E FF                MOV     R7,A
004F EF                MOV     A,R7
0050 547F              ANL     A,#07FH
0052 FF                MOV     R7,A
0053 900000      R     MOV     DPTR,#tx+01H
0056 EF                MOV     A,R7
0057 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 33
0058 900000      R     MOV     DPTR,#Data
005B E0                MOVX    A,@DPTR
005C FE                MOV     R6,A
005D A3                INC     DPTR
005E E0                MOVX    A,@DPTR
005F FF                MOV     R7,A
0060 EF                MOV     A,R7
C51 COMPILER V9.51   KONDO_SERVO                                                           12/05/2015 15:02:18 PAGE 7   

0061 547F              ANL     A,#07FH
0063 FF                MOV     R7,A
0064 900000      R     MOV     DPTR,#tx+02H
0067 EF                MOV     A,R7
0068 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 34
0069 7B01              MOV     R3,#01H
006B 7A00        R     MOV     R2,#HIGH tx
006D 7900        R     MOV     R1,#LOW tx
006F 7D03              MOV     R5,#03H
0071 120000      E     LCALL   _UART_Servo_PutArray
                                           ; SOURCE LINE # 35
0074 7F01              MOV     R7,#01H
0076 7E00              MOV     R6,#00H
0078 7D00              MOV     R5,#00H
007A 7C00              MOV     R4,#00H
007C 120000      E     LCALL   _?CyDelay
                                           ; SOURCE LINE # 36
007F 22                RET     
             ; FUNCTION _Pos_Set (END)

             ; FUNCTION ID_Read (BEGIN)
                                           ; SOURCE LINE # 38
                                           ; SOURCE LINE # 39
                                           ; SOURCE LINE # 44
0000 900000      R     MOV     DPTR,#tx
0003 74FF              MOV     A,#0FFH
0005 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 45
0006 900000      R     MOV     DPTR,#tx+01H
0009 E4                CLR     A
000A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 46
000B 900000      R     MOV     DPTR,#tx+02H
000E E4                CLR     A
000F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 47
0010 900000      R     MOV     DPTR,#tx+03H
0013 E4                CLR     A
0014 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 50
0015 900000      R     MOV     DPTR,#i
0018 E4                CLR     A
0019 F0                MOVX    @DPTR,A
001A A3                INC     DPTR
001B E4                CLR     A
001C F0                MOVX    @DPTR,A
001D         ?C0006:
001D 900000      R     MOV     DPTR,#i
0020 E0                MOVX    A,@DPTR
0021 FE                MOV     R6,A
0022 A3                INC     DPTR
0023 E0                MOVX    A,@DPTR
0024 FF                MOV     R7,A
0025 C3                CLR     C
0026 EF                MOV     A,R7
0027 9404              SUBB    A,#04H
0029 EE                MOV     A,R6
002A 6480              XRL     A,#080H
002C 9480              SUBB    A,#080H
002E 5023              JNC     ?C0007
                                           ; SOURCE LINE # 51
C51 COMPILER V9.51   KONDO_SERVO                                                           12/05/2015 15:02:18 PAGE 8   

0030 900000      R     MOV     DPTR,#i
0033 E0                MOVX    A,@DPTR
0034 FE                MOV     R6,A
0035 A3                INC     DPTR
0036 E0                MOVX    A,@DPTR
0037 FF                MOV     R7,A
0038 7400        R     MOV     A,#LOW tx
003A 2F                ADD     A,R7
003B F582              MOV     DPL,A
003D 7400        R     MOV     A,#HIGH tx
003F 3E                ADDC    A,R6
0040 F583              MOV     DPH,A
0042 E0                MOVX    A,@DPTR
0043 FF                MOV     R7,A
0044 120000      E     LCALL   _UART_Servo_PutChar
                                           ; SOURCE LINE # 52
0047 900000      R     MOV     DPTR,#i
004A E4                CLR     A
004B 75F001            MOV     B,#01H
004E 120000      E     LCALL   ?C?IILDX
0051 80CA              SJMP    ?C0006
0053         ?C0007:
                                           ; SOURCE LINE # 54
0053 900000      R     MOV     DPTR,#i
0056 E4                CLR     A
0057 F0                MOVX    @DPTR,A
0058 A3                INC     DPTR
0059 E4                CLR     A
005A F0                MOVX    @DPTR,A
005B         ?C0009:
005B 900000      R     MOV     DPTR,#i
005E E0                MOVX    A,@DPTR
005F FE                MOV     R6,A
0060 A3                INC     DPTR
0061 E0                MOVX    A,@DPTR
0062 FF                MOV     R7,A
0063 C3                CLR     C
0064 EF                MOV     A,R7
0065 9405              SUBB    A,#05H
0067 EE                MOV     A,R6
0068 6480              XRL     A,#080H
006A 9480              SUBB    A,#080H
006C 5023              JNC     ?C0010
                                           ; SOURCE LINE # 55
006E 120000      E     LCALL   UART_Servo_GetChar
0071 900000      R     MOV     DPTR,#i
0074 E0                MOVX    A,@DPTR
0075 FC                MOV     R4,A
0076 A3                INC     DPTR
0077 E0                MOVX    A,@DPTR
0078 FD                MOV     R5,A
0079 7400        R     MOV     A,#LOW rx
007B 2D                ADD     A,R5
007C F582              MOV     DPL,A
007E 7400        R     MOV     A,#HIGH rx
0080 3C                ADDC    A,R4
0081 F583              MOV     DPH,A
0083 EF                MOV     A,R7
0084 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 56
0085 900000      R     MOV     DPTR,#i
0088 E4                CLR     A
C51 COMPILER V9.51   KONDO_SERVO                                                           12/05/2015 15:02:18 PAGE 9   

0089 75F001            MOV     B,#01H
008C 120000      E     LCALL   ?C?IILDX
008F 80CA              SJMP    ?C0009
0091         ?C0010:
                                           ; SOURCE LINE # 57
0091 7B01              MOV     R3,#01H
0093 7A00        R     MOV     R2,#HIGH buffer
0095 7900        R     MOV     R1,#LOW buffer
0097 C003              PUSH    AR3
0099 C002              PUSH    AR2
009B C001              PUSH    AR1
009D 7BFF              MOV     R3,#0FFH
009F 7A00        R     MOV     R2,#HIGH ?SC_0
00A1 7900        R     MOV     R1,#LOW ?SC_0
00A3 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
00A6 120000      E     LCALL   ?C?PSTXDATA
00A9 900000      R     MOV     DPTR,#rx
00AC E0                MOVX    A,@DPTR
00AD FF                MOV     R7,A
00AE 7E00              MOV     R6,#00H
00B0 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
00B3 EE                MOV     A,R6
00B4 F0                MOVX    @DPTR,A
00B5 A3                INC     DPTR
00B6 EF                MOV     A,R7
00B7 F0                MOVX    @DPTR,A
00B8 900000      R     MOV     DPTR,#rx+01H
00BB E0                MOVX    A,@DPTR
00BC FF                MOV     R7,A
00BD 7E00              MOV     R6,#00H
00BF 900000      E     MOV     DPTR,#?_sprintf?BYTE+08H
00C2 EE                MOV     A,R6
00C3 F0                MOVX    @DPTR,A
00C4 A3                INC     DPTR
00C5 EF                MOV     A,R7
00C6 F0                MOVX    @DPTR,A
00C7 900000      R     MOV     DPTR,#rx+02H
00CA E0                MOVX    A,@DPTR
00CB FF                MOV     R7,A
00CC 7E00              MOV     R6,#00H
00CE 900000      E     MOV     DPTR,#?_sprintf?BYTE+0AH
00D1 EE                MOV     A,R6
00D2 F0                MOVX    @DPTR,A
00D3 A3                INC     DPTR
00D4 EF                MOV     A,R7
00D5 F0                MOVX    @DPTR,A
00D6 900000      R     MOV     DPTR,#rx+03H
00D9 E0                MOVX    A,@DPTR
00DA FF                MOV     R7,A
00DB 7E00              MOV     R6,#00H
00DD 900000      E     MOV     DPTR,#?_sprintf?BYTE+0CH
00E0 EE                MOV     A,R6
00E1 F0                MOVX    @DPTR,A
00E2 A3                INC     DPTR
00E3 EF                MOV     A,R7
00E4 F0                MOVX    @DPTR,A
00E5 900000      R     MOV     DPTR,#rx+04H
00E8 E0                MOVX    A,@DPTR
00E9 FF                MOV     R7,A
00EA 7E00              MOV     R6,#00H
00EC 900000      E     MOV     DPTR,#?_sprintf?BYTE+0EH
00EF EE                MOV     A,R6
C51 COMPILER V9.51   KONDO_SERVO                                                           12/05/2015 15:02:18 PAGE 10  

00F0 F0                MOVX    @DPTR,A
00F1 A3                INC     DPTR
00F2 EF                MOV     A,R7
00F3 F0                MOVX    @DPTR,A
00F4 D001              POP     AR1
00F6 D002              POP     AR2
00F8 D003              POP     AR3
00FA 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 58
00FD 22                RET     
             ; FUNCTION ID_Read (END)

             ; FUNCTION _ID_Write (BEGIN)
                                           ; SOURCE LINE # 61
0000 900000      R     MOV     DPTR,#ID
0003 EF                MOV     A,R7
0004 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 62
                                           ; SOURCE LINE # 66
0005 900000      R     MOV     DPTR,#ID
0008 E0                MOVX    A,@DPTR
0009 FF                MOV     R7,A
000A EF                MOV     A,R7
000B 44E0              ORL     A,#0E0H
000D FF                MOV     R7,A
000E 900000      R     MOV     DPTR,#tx
0011 EF                MOV     A,R7
0012 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 67
0013 900000      R     MOV     DPTR,#tx+01H
0016 7401              MOV     A,#01H
0018 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 68
0019 900000      R     MOV     DPTR,#tx+02H
001C 7401              MOV     A,#01H
001E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 69
001F 900000      R     MOV     DPTR,#tx+03H
0022 7401              MOV     A,#01H
0024 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 72
0025 900000      R     MOV     DPTR,#i
0028 E4                CLR     A
0029 F0                MOVX    @DPTR,A
002A         ?C0013:
002A 900000      R     MOV     DPTR,#i
002D E0                MOVX    A,@DPTR
002E FF                MOV     R7,A
002F EF                MOV     A,R7
0030 C3                CLR     C
0031 9404              SUBB    A,#04H
0033 501C              JNC     ?C0014
                                           ; SOURCE LINE # 73
0035 900000      R     MOV     DPTR,#i
0038 E0                MOVX    A,@DPTR
0039 FF                MOV     R7,A
003A 7400        R     MOV     A,#LOW tx
003C 2F                ADD     A,R7
003D F582              MOV     DPL,A
003F E4                CLR     A
0040 3400        R     ADDC    A,#HIGH tx
0042 F583              MOV     DPH,A
C51 COMPILER V9.51   KONDO_SERVO                                                           12/05/2015 15:02:18 PAGE 11  

0044 E0                MOVX    A,@DPTR
0045 FF                MOV     R7,A
0046 120000      E     LCALL   _UART_Servo_PutChar
                                           ; SOURCE LINE # 74
0049 900000      R     MOV     DPTR,#i
004C E0                MOVX    A,@DPTR
004D 04                INC     A
004E F0                MOVX    @DPTR,A
004F 80D9              SJMP    ?C0013
0051         ?C0014:
                                           ; SOURCE LINE # 76
0051 900000      R     MOV     DPTR,#i
0054 E4                CLR     A
0055 F0                MOVX    @DPTR,A
0056         ?C0016:
0056 900000      R     MOV     DPTR,#i
0059 E0                MOVX    A,@DPTR
005A FF                MOV     R7,A
005B EF                MOV     A,R7
005C C3                CLR     C
005D 9405              SUBB    A,#05H
005F 501C              JNC     ?C0017
                                           ; SOURCE LINE # 77
0061 120000      E     LCALL   UART_Servo_GetChar
0064 900000      R     MOV     DPTR,#i
0067 E0                MOVX    A,@DPTR
0068 FE                MOV     R6,A
0069 7400        R     MOV     A,#LOW rx
006B 2E                ADD     A,R6
006C F582              MOV     DPL,A
006E E4                CLR     A
006F 3400        R     ADDC    A,#HIGH rx
0071 F583              MOV     DPH,A
0073 EF                MOV     A,R7
0074 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 78
0075 900000      R     MOV     DPTR,#i
0078 E0                MOVX    A,@DPTR
0079 04                INC     A
007A F0                MOVX    @DPTR,A
007B 80D9              SJMP    ?C0016
007D         ?C0017:
                                           ; SOURCE LINE # 79
007D 7FE8              MOV     R7,#0E8H
007F 7E03              MOV     R6,#03H
0081 7D00              MOV     R5,#00H
0083 7C00              MOV     R4,#00H
0085 120000      E     LCALL   _?CyDelay
                                           ; SOURCE LINE # 80
0088 22                RET     
             ; FUNCTION _ID_Write (END)



MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    748    ----
   CONSTANT SIZE    =     16    ----
   XDATA SIZE       =   ----     190
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
C51 COMPILER V9.51   KONDO_SERVO                                                           12/05/2015 15:02:18 PAGE 12  

   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  11 WARNING(S),  0 ERROR(S)
