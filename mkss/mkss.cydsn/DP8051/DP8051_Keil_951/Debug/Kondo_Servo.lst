C51 COMPILER V9.51   KONDO_SERVO                                                           12/10/2015 22:46:07 PAGE 1   


C51 COMPILER V9.51, COMPILATION OF MODULE KONDO_SERVO
OBJECT MODULE PLACED IN .\DP8051\DP8051_Keil_951\Debug\Kondo_Servo.obj
COMPILER INVOKED BY: C:\Program Files (x86)\Cypress\PSoC Creator\3.3\PSoC Creator\import\keil\pk51\9.51\C51\BIN\c51.exe 
                    -.\Kondo_Servo.c NOIV LARGE MODDP2 OMF2 VB(1) NOIP INCDIR(.,Generated_Source\PSoC3) FF(3) DB DF(DEBUG) WL(2) PR(.\DP8051\
                    -DP8051_Keil_951\Debug/Kondo_Servo.lst) CD OT(2,SIZE) OJ(.\DP8051\DP8051_Keil_951\Debug\Kondo_Servo.obj)

line level    source

   1          #include "ICS3_5.h"
   2          
   3          void speed(uint8 ID, uint8 speed){
   4   1          unsigned char tx[3];
   5   1          tx[0] = 0xC0 | ID;
   6   1          tx[1] = 0x02;
   7   1          tx[2] = (unsigned char)speed;
   8   1          UART_Servo_PutArray(tx, 3);
   9   1          CyDelay(1);
  10   1      }
  11          
  12          int16 Free(uint8 ID)
  13          {
  14   1          int16 kakudo,Data,pos_h,pos_l,pos;
  15   1          uint8 i, tx[3], rx[6];
  16   1          char buffer[40];
  17   1          //ポジション
  18   1          tx[0]=0x80|ID;
  19   1          tx[1]=0x00;
  20   1          tx[2]=0x00;
  21   1          //送信
  22   1          UART_Servo_PutArray(tx,3);
  23   1          CyDelayUs(500);
  24   1          //受信
  25   1          for (i = 0;i < 6;i++){
  26   2              rx[i] = UART_Servo_GetChar(); // モーターからの返値を受け取り、rxに代入する
  27   2          }
  28   1          pos_h=((int)rx[4]<<7)&0x3f80; 
  29   1          pos_l=(int)rx[5]&0x7f;
  30   1          pos=pos_h|pos_l; //値に変換
  31   1          pos=(7500-pos)*0.0333333; //角度に変換
  32   1          return pos;
  33   1      }
*** WARNING C280 IN LINE 14 OF .\Kondo_Servo.c: 'kakudo': unreferenced local variable
*** WARNING C280 IN LINE 14 OF .\Kondo_Servo.c: 'Data': unreferenced local variable
*** WARNING C280 IN LINE 16 OF .\Kondo_Servo.c: 'buffer': unreferenced local variable
  34          
  35          void Pos_Set(uint8 ID, int16 kakudo){
  36   1          //int pos_h,pos_l,pos;
  37   1          int16 Data;
  38   1          uint8 i, tx[3], rx[6];
  39   1          Data = 7500 -( 30 * kakudo );
  40   1          tx[0]=0x80|ID;
  41   1          tx[1]=(unsigned char)(Data>>7) & 0x7F;
  42   1          tx[2]=(unsigned char)Data & 0x7F;
  43   1          UART_Servo_PutArray(tx,3);
  44   1          CyDelay(1);
  45   1      }
*** WARNING C280 IN LINE 38 OF .\Kondo_Servo.c: 'i': unreferenced local variable
*** WARNING C280 IN LINE 38 OF .\Kondo_Servo.c: 'rx': unreferenced local variable
  46          
  47          void ID_Read()
  48          {       
C51 COMPILER V9.51   KONDO_SERVO                                                           12/10/2015 22:46:07 PAGE 2   

  49   1          int i,pos_h,pos_l,pos,kakudo,Data;
  50   1          uint8 tx[4], rx[6];
  51   1          char buffer[40];
  52   1          //ID読み込み
  53   1          tx[0]=0xFF;
  54   1          tx[1]=0x00;
  55   1          tx[2]=0x00;
  56   1          tx[3]=0x00;
  57   1      
  58   1          //送信
  59   1          for (i = 0;i < 4;i++){
  60   2              UART_Servo_PutChar(tx[i]); // コマンドを１バイトずつ送信する
  61   2          }
  62   1          //受信
  63   1          for (i = 0;i < 5;i++){
  64   2              rx[i] = UART_Servo_GetChar(); // モーターからの返値を受け取り、rxに代入する
  65   2          }
  66   1          sprintf(buffer,"%x,%x,%x,%x,%x\n",(int)rx[0], (int)rx[1], (int)rx[2], (int)rx[3], (int)rx[4]);
  67   1      }
*** WARNING C280 IN LINE 49 OF .\Kondo_Servo.c: 'pos_h': unreferenced local variable
*** WARNING C280 IN LINE 49 OF .\Kondo_Servo.c: 'pos_l': unreferenced local variable
*** WARNING C280 IN LINE 49 OF .\Kondo_Servo.c: 'pos': unreferenced local variable
*** WARNING C280 IN LINE 49 OF .\Kondo_Servo.c: 'kakudo': unreferenced local variable
*** WARNING C280 IN LINE 49 OF .\Kondo_Servo.c: 'Data': unreferenced local variable
  68          
  69          
  70          void ID_Write (uint8 ID)
  71          {
  72   1          uint8 i,tx[4], rx[6];
  73   1          char buffer[40];
  74   1          //ID書き込み
  75   1          tx[0]=0xE0|ID;
  76   1          tx[1]=0x01;
  77   1          tx[2]=0x01;
  78   1          tx[3]=0x01;
  79   1                  
  80   1          //送信
  81   1          for (i = 0;i < 4;i++){
  82   2              UART_Servo_PutChar(tx[i]); // コマンドを１バイトずつ送信する
  83   2          }
  84   1          //受信
  85   1          for (i = 0;i < 5;i++){
  86   2              rx[i] = UART_Servo_GetChar(); // モーターからの返値を受け取り、rxに代入する
  87   2          }       
  88   1          CyDelay(1000);
  89   1      }
*** WARNING C280 IN LINE 73 OF .\Kondo_Servo.c: 'buffer': unreferenced local variable
C51 COMPILER V9.51   KONDO_SERVO                                                           12/10/2015 22:46:07 PAGE 3   

ASSEMBLY LISTING OF GENERATED OBJECT CODE


             ; FUNCTION _speed (BEGIN)
                                           ; SOURCE LINE # 3
0000 900000      R     MOV     DPTR,#ID
0003 EF                MOV     A,R7
0004 F0                MOVX    @DPTR,A
0005 900000      R     MOV     DPTR,#speed
0008 ED                MOV     A,R5
0009 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 5
000A 900000      R     MOV     DPTR,#ID
000D E0                MOVX    A,@DPTR
000E FF                MOV     R7,A
000F EF                MOV     A,R7
0010 44C0              ORL     A,#0C0H
0012 FF                MOV     R7,A
0013 900000      R     MOV     DPTR,#tx
0016 EF                MOV     A,R7
0017 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 6
0018 900000      R     MOV     DPTR,#tx+01H
001B 7402              MOV     A,#02H
001D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 7
001E 900000      R     MOV     DPTR,#speed
0021 E0                MOVX    A,@DPTR
0022 FF                MOV     R7,A
0023 900000      R     MOV     DPTR,#tx+02H
0026 EF                MOV     A,R7
0027 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 8
0028 7B01              MOV     R3,#01H
002A 7A00        R     MOV     R2,#HIGH tx
002C 7900        R     MOV     R1,#LOW tx
002E 7D03              MOV     R5,#03H
0030 120000      E     LCALL   _UART_Servo_PutArray
                                           ; SOURCE LINE # 9
0033 7F01              MOV     R7,#01H
0035 7E00              MOV     R6,#00H
0037 7D00              MOV     R5,#00H
0039 7C00              MOV     R4,#00H
003B 120000      E     LCALL   _?CyDelay
                                           ; SOURCE LINE # 10
003E 22                RET     
             ; FUNCTION _speed (END)

             ; FUNCTION _Free (BEGIN)
                                           ; SOURCE LINE # 12
0000 900000      R     MOV     DPTR,#ID
0003 EF                MOV     A,R7
0004 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 13
                                           ; SOURCE LINE # 18
0005 900000      R     MOV     DPTR,#ID
0008 E0                MOVX    A,@DPTR
0009 FF                MOV     R7,A
000A EF                MOV     A,R7
000B 4480              ORL     A,#080H
000D FF                MOV     R7,A
000E 900000      R     MOV     DPTR,#tx
C51 COMPILER V9.51   KONDO_SERVO                                                           12/10/2015 22:46:07 PAGE 4   

0011 EF                MOV     A,R7
0012 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 19
0013 900000      R     MOV     DPTR,#tx+01H
0016 E4                CLR     A
0017 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 20
0018 900000      R     MOV     DPTR,#tx+02H
001B E4                CLR     A
001C F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 22
001D 7B01              MOV     R3,#01H
001F 7A00        R     MOV     R2,#HIGH tx
0021 7900        R     MOV     R1,#LOW tx
0023 7D03              MOV     R5,#03H
0025 120000      E     LCALL   _UART_Servo_PutArray
                                           ; SOURCE LINE # 23
0028 7FF4              MOV     R7,#0F4H
002A 7E01              MOV     R6,#01H
002C 120000      E     LCALL   _CyDelayUs
                                           ; SOURCE LINE # 25
002F 900000      R     MOV     DPTR,#i
0032 E4                CLR     A
0033 F0                MOVX    @DPTR,A
0034         ?C0002:
0034 900000      R     MOV     DPTR,#i
0037 E0                MOVX    A,@DPTR
0038 FF                MOV     R7,A
0039 EF                MOV     A,R7
003A C3                CLR     C
003B 9406              SUBB    A,#06H
003D 501C              JNC     ?C0003
                                           ; SOURCE LINE # 26
003F 120000      E     LCALL   UART_Servo_GetChar
0042 900000      R     MOV     DPTR,#i
0045 E0                MOVX    A,@DPTR
0046 FE                MOV     R6,A
0047 7400        R     MOV     A,#LOW rx
0049 2E                ADD     A,R6
004A F582              MOV     DPL,A
004C E4                CLR     A
004D 3400        R     ADDC    A,#HIGH rx
004F F583              MOV     DPH,A
0051 EF                MOV     A,R7
0052 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 27
0053 900000      R     MOV     DPTR,#i
0056 E0                MOVX    A,@DPTR
0057 04                INC     A
0058 F0                MOVX    @DPTR,A
0059 80D9              SJMP    ?C0002
005B         ?C0003:
                                           ; SOURCE LINE # 28
005B 900000      R     MOV     DPTR,#rx+04H
005E E0                MOVX    A,@DPTR
005F FF                MOV     R7,A
0060 7E00              MOV     R6,#00H
0062 EF                MOV     A,R7
0063 75F080            MOV     B,#080H
0066 A4                MUL     AB
0067 FF                MOV     R7,A
0068 AEF0              MOV     R6,B
C51 COMPILER V9.51   KONDO_SERVO                                                           12/10/2015 22:46:07 PAGE 5   

006A EE                MOV     A,R6
006B 543F              ANL     A,#03FH
006D FE                MOV     R6,A
006E EF                MOV     A,R7
006F 5480              ANL     A,#080H
0071 FF                MOV     R7,A
0072 900000      R     MOV     DPTR,#pos_h
0075 EE                MOV     A,R6
0076 F0                MOVX    @DPTR,A
0077 A3                INC     DPTR
0078 EF                MOV     A,R7
0079 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 29
007A 900000      R     MOV     DPTR,#rx+05H
007D E0                MOVX    A,@DPTR
007E FF                MOV     R7,A
007F 7E00              MOV     R6,#00H
0081 7E00              MOV     R6,#00H
0083 EF                MOV     A,R7
0084 547F              ANL     A,#07FH
0086 FF                MOV     R7,A
0087 900000      R     MOV     DPTR,#pos_l
008A EE                MOV     A,R6
008B F0                MOVX    @DPTR,A
008C A3                INC     DPTR
008D EF                MOV     A,R7
008E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 30
008F 900000      R     MOV     DPTR,#pos_l
0092 E0                MOVX    A,@DPTR
0093 FE                MOV     R6,A
0094 A3                INC     DPTR
0095 E0                MOVX    A,@DPTR
0096 FF                MOV     R7,A
0097 900000      R     MOV     DPTR,#pos_h
009A E0                MOVX    A,@DPTR
009B FC                MOV     R4,A
009C A3                INC     DPTR
009D E0                MOVX    A,@DPTR
009E FD                MOV     R5,A
009F EC                MOV     A,R4
00A0 4E                ORL     A,R6
00A1 FE                MOV     R6,A
00A2 ED                MOV     A,R5
00A3 4F                ORL     A,R7
00A4 FF                MOV     R7,A
00A5 900000      R     MOV     DPTR,#pos
00A8 EE                MOV     A,R6
00A9 F0                MOVX    @DPTR,A
00AA A3                INC     DPTR
00AB EF                MOV     A,R7
00AC F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 31
00AD 900000      R     MOV     DPTR,#pos
00B0 E0                MOVX    A,@DPTR
00B1 FE                MOV     R6,A
00B2 A3                INC     DPTR
00B3 E0                MOVX    A,@DPTR
00B4 FF                MOV     R7,A
00B5 C3                CLR     C
00B6 744C              MOV     A,#04CH
00B8 9F                SUBB    A,R7
C51 COMPILER V9.51   KONDO_SERVO                                                           12/10/2015 22:46:07 PAGE 6   

00B9 FD                MOV     R5,A
00BA 741D              MOV     A,#01DH
00BC 9E                SUBB    A,R6
00BD FC                MOV     R4,A
00BE EC                MOV     A,R4
00BF 120000      E     LCALL   ?C?FCASTI
00C2 7B80              MOV     R3,#080H
00C4 7A88              MOV     R2,#088H
00C6 7908              MOV     R1,#08H
00C8 783D              MOV     R0,#03DH
00CA 120000      E     LCALL   ?C?FPMUL
00CD 120000      E     LCALL   ?C?CASTF
00D0 900000      R     MOV     DPTR,#pos
00D3 EE                MOV     A,R6
00D4 F0                MOVX    @DPTR,A
00D5 A3                INC     DPTR
00D6 EF                MOV     A,R7
00D7 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 32
00D8 900000      R     MOV     DPTR,#pos
00DB E0                MOVX    A,@DPTR
00DC FE                MOV     R6,A
00DD A3                INC     DPTR
00DE E0                MOVX    A,@DPTR
00DF FF                MOV     R7,A
                                           ; SOURCE LINE # 33
00E0         ?C0005:
00E0 22                RET     
             ; FUNCTION _Free (END)

             ; FUNCTION _Pos_Set (BEGIN)
                                           ; SOURCE LINE # 35
0000 900000      R     MOV     DPTR,#ID
0003 EF                MOV     A,R7
0004 F0                MOVX    @DPTR,A
0005 900000      R     MOV     DPTR,#kakudo
0008 EC                MOV     A,R4
0009 F0                MOVX    @DPTR,A
000A A3                INC     DPTR
000B ED                MOV     A,R5
000C F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 39
000D 900000      R     MOV     DPTR,#kakudo
0010 E0                MOVX    A,@DPTR
0011 FE                MOV     R6,A
0012 A3                INC     DPTR
0013 E0                MOVX    A,@DPTR
0014 FF                MOV     R7,A
0015 7C00              MOV     R4,#00H
0017 7D1E              MOV     R5,#01EH
0019 120000      E     LCALL   ?C?IMUL
001C C3                CLR     C
001D 744C              MOV     A,#04CH
001F 9F                SUBB    A,R7
0020 FF                MOV     R7,A
0021 741D              MOV     A,#01DH
0023 9E                SUBB    A,R6
0024 FE                MOV     R6,A
0025 900000      R     MOV     DPTR,#Data
0028 EE                MOV     A,R6
0029 F0                MOVX    @DPTR,A
002A A3                INC     DPTR
C51 COMPILER V9.51   KONDO_SERVO                                                           12/10/2015 22:46:07 PAGE 7   

002B EF                MOV     A,R7
002C F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 40
002D 900000      R     MOV     DPTR,#ID
0030 E0                MOVX    A,@DPTR
0031 FF                MOV     R7,A
0032 EF                MOV     A,R7
0033 4480              ORL     A,#080H
0035 FF                MOV     R7,A
0036 900000      R     MOV     DPTR,#tx
0039 EF                MOV     A,R7
003A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 41
003B 900000      R     MOV     DPTR,#Data
003E E0                MOVX    A,@DPTR
003F FE                MOV     R6,A
0040 A3                INC     DPTR
0041 E0                MOVX    A,@DPTR
0042 FF                MOV     R7,A
0043 EF                MOV     A,R7
0044 7807              MOV     R0,#07H
0046         ?C0021:
0046 CE                XCH     A,R6
0047 A2E7              MOV     C,ACC.7
0049 13                RRC     A
004A CE                XCH     A,R6
004B 13                RRC     A
004C D8F8              DJNZ    R0,?C0021
004E FF                MOV     R7,A
004F EF                MOV     A,R7
0050 547F              ANL     A,#07FH
0052 FF                MOV     R7,A
0053 900000      R     MOV     DPTR,#tx+01H
0056 EF                MOV     A,R7
0057 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 42
0058 900000      R     MOV     DPTR,#Data
005B E0                MOVX    A,@DPTR
005C FE                MOV     R6,A
005D A3                INC     DPTR
005E E0                MOVX    A,@DPTR
005F FF                MOV     R7,A
0060 EF                MOV     A,R7
0061 547F              ANL     A,#07FH
0063 FF                MOV     R7,A
0064 900000      R     MOV     DPTR,#tx+02H
0067 EF                MOV     A,R7
0068 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 43
0069 7B01              MOV     R3,#01H
006B 7A00        R     MOV     R2,#HIGH tx
006D 7900        R     MOV     R1,#LOW tx
006F 7D03              MOV     R5,#03H
0071 120000      E     LCALL   _UART_Servo_PutArray
                                           ; SOURCE LINE # 44
0074 7F01              MOV     R7,#01H
0076 7E00              MOV     R6,#00H
0078 7D00              MOV     R5,#00H
007A 7C00              MOV     R4,#00H
007C 120000      E     LCALL   _?CyDelay
                                           ; SOURCE LINE # 45
007F 22                RET     
C51 COMPILER V9.51   KONDO_SERVO                                                           12/10/2015 22:46:07 PAGE 8   

             ; FUNCTION _Pos_Set (END)

             ; FUNCTION ID_Read (BEGIN)
                                           ; SOURCE LINE # 47
                                           ; SOURCE LINE # 48
                                           ; SOURCE LINE # 53
0000 900000      R     MOV     DPTR,#tx
0003 74FF              MOV     A,#0FFH
0005 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 54
0006 900000      R     MOV     DPTR,#tx+01H
0009 E4                CLR     A
000A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 55
000B 900000      R     MOV     DPTR,#tx+02H
000E E4                CLR     A
000F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 56
0010 900000      R     MOV     DPTR,#tx+03H
0013 E4                CLR     A
0014 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 59
0015 900000      R     MOV     DPTR,#i
0018 E4                CLR     A
0019 F0                MOVX    @DPTR,A
001A A3                INC     DPTR
001B E4                CLR     A
001C F0                MOVX    @DPTR,A
001D         ?C0007:
001D 900000      R     MOV     DPTR,#i
0020 E0                MOVX    A,@DPTR
0021 FE                MOV     R6,A
0022 A3                INC     DPTR
0023 E0                MOVX    A,@DPTR
0024 FF                MOV     R7,A
0025 C3                CLR     C
0026 EF                MOV     A,R7
0027 9404              SUBB    A,#04H
0029 EE                MOV     A,R6
002A 6480              XRL     A,#080H
002C 9480              SUBB    A,#080H
002E 5023              JNC     ?C0008
                                           ; SOURCE LINE # 60
0030 900000      R     MOV     DPTR,#i
0033 E0                MOVX    A,@DPTR
0034 FE                MOV     R6,A
0035 A3                INC     DPTR
0036 E0                MOVX    A,@DPTR
0037 FF                MOV     R7,A
0038 7400        R     MOV     A,#LOW tx
003A 2F                ADD     A,R7
003B F582              MOV     DPL,A
003D 7400        R     MOV     A,#HIGH tx
003F 3E                ADDC    A,R6
0040 F583              MOV     DPH,A
0042 E0                MOVX    A,@DPTR
0043 FF                MOV     R7,A
0044 120000      E     LCALL   _UART_Servo_PutChar
                                           ; SOURCE LINE # 61
0047 900000      R     MOV     DPTR,#i
004A E4                CLR     A
004B 75F001            MOV     B,#01H
C51 COMPILER V9.51   KONDO_SERVO                                                           12/10/2015 22:46:07 PAGE 9   

004E 120000      E     LCALL   ?C?IILDX
0051 80CA              SJMP    ?C0007
0053         ?C0008:
                                           ; SOURCE LINE # 63
0053 900000      R     MOV     DPTR,#i
0056 E4                CLR     A
0057 F0                MOVX    @DPTR,A
0058 A3                INC     DPTR
0059 E4                CLR     A
005A F0                MOVX    @DPTR,A
005B         ?C0010:
005B 900000      R     MOV     DPTR,#i
005E E0                MOVX    A,@DPTR
005F FE                MOV     R6,A
0060 A3                INC     DPTR
0061 E0                MOVX    A,@DPTR
0062 FF                MOV     R7,A
0063 C3                CLR     C
0064 EF                MOV     A,R7
0065 9405              SUBB    A,#05H
0067 EE                MOV     A,R6
0068 6480              XRL     A,#080H
006A 9480              SUBB    A,#080H
006C 5023              JNC     ?C0011
                                           ; SOURCE LINE # 64
006E 120000      E     LCALL   UART_Servo_GetChar
0071 900000      R     MOV     DPTR,#i
0074 E0                MOVX    A,@DPTR
0075 FC                MOV     R4,A
0076 A3                INC     DPTR
0077 E0                MOVX    A,@DPTR
0078 FD                MOV     R5,A
0079 7400        R     MOV     A,#LOW rx
007B 2D                ADD     A,R5
007C F582              MOV     DPL,A
007E 7400        R     MOV     A,#HIGH rx
0080 3C                ADDC    A,R4
0081 F583              MOV     DPH,A
0083 EF                MOV     A,R7
0084 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 65
0085 900000      R     MOV     DPTR,#i
0088 E4                CLR     A
0089 75F001            MOV     B,#01H
008C 120000      E     LCALL   ?C?IILDX
008F 80CA              SJMP    ?C0010
0091         ?C0011:
                                           ; SOURCE LINE # 66
0091 7B01              MOV     R3,#01H
0093 7A00        R     MOV     R2,#HIGH buffer
0095 7900        R     MOV     R1,#LOW buffer
0097 C003              PUSH    AR3
0099 C002              PUSH    AR2
009B C001              PUSH    AR1
009D 7BFF              MOV     R3,#0FFH
009F 7A00        R     MOV     R2,#HIGH ?SC_0
00A1 7900        R     MOV     R1,#LOW ?SC_0
00A3 900000      E     MOV     DPTR,#?_sprintf?BYTE+03H
00A6 120000      E     LCALL   ?C?PSTXDATA
00A9 900000      R     MOV     DPTR,#rx
00AC E0                MOVX    A,@DPTR
00AD FF                MOV     R7,A
C51 COMPILER V9.51   KONDO_SERVO                                                           12/10/2015 22:46:07 PAGE 10  

00AE 7E00              MOV     R6,#00H
00B0 900000      E     MOV     DPTR,#?_sprintf?BYTE+06H
00B3 EE                MOV     A,R6
00B4 F0                MOVX    @DPTR,A
00B5 A3                INC     DPTR
00B6 EF                MOV     A,R7
00B7 F0                MOVX    @DPTR,A
00B8 900000      R     MOV     DPTR,#rx+01H
00BB E0                MOVX    A,@DPTR
00BC FF                MOV     R7,A
00BD 7E00              MOV     R6,#00H
00BF 900000      E     MOV     DPTR,#?_sprintf?BYTE+08H
00C2 EE                MOV     A,R6
00C3 F0                MOVX    @DPTR,A
00C4 A3                INC     DPTR
00C5 EF                MOV     A,R7
00C6 F0                MOVX    @DPTR,A
00C7 900000      R     MOV     DPTR,#rx+02H
00CA E0                MOVX    A,@DPTR
00CB FF                MOV     R7,A
00CC 7E00              MOV     R6,#00H
00CE 900000      E     MOV     DPTR,#?_sprintf?BYTE+0AH
00D1 EE                MOV     A,R6
00D2 F0                MOVX    @DPTR,A
00D3 A3                INC     DPTR
00D4 EF                MOV     A,R7
00D5 F0                MOVX    @DPTR,A
00D6 900000      R     MOV     DPTR,#rx+03H
00D9 E0                MOVX    A,@DPTR
00DA FF                MOV     R7,A
00DB 7E00              MOV     R6,#00H
00DD 900000      E     MOV     DPTR,#?_sprintf?BYTE+0CH
00E0 EE                MOV     A,R6
00E1 F0                MOVX    @DPTR,A
00E2 A3                INC     DPTR
00E3 EF                MOV     A,R7
00E4 F0                MOVX    @DPTR,A
00E5 900000      R     MOV     DPTR,#rx+04H
00E8 E0                MOVX    A,@DPTR
00E9 FF                MOV     R7,A
00EA 7E00              MOV     R6,#00H
00EC 900000      E     MOV     DPTR,#?_sprintf?BYTE+0EH
00EF EE                MOV     A,R6
00F0 F0                MOVX    @DPTR,A
00F1 A3                INC     DPTR
00F2 EF                MOV     A,R7
00F3 F0                MOVX    @DPTR,A
00F4 D001              POP     AR1
00F6 D002              POP     AR2
00F8 D003              POP     AR3
00FA 120000      E     LCALL   _sprintf
                                           ; SOURCE LINE # 67
00FD 22                RET     
             ; FUNCTION ID_Read (END)

             ; FUNCTION _ID_Write (BEGIN)
                                           ; SOURCE LINE # 70
0000 900000      R     MOV     DPTR,#ID
0003 EF                MOV     A,R7
0004 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 71
                                           ; SOURCE LINE # 75
C51 COMPILER V9.51   KONDO_SERVO                                                           12/10/2015 22:46:07 PAGE 11  

0005 900000      R     MOV     DPTR,#ID
0008 E0                MOVX    A,@DPTR
0009 FF                MOV     R7,A
000A EF                MOV     A,R7
000B 44E0              ORL     A,#0E0H
000D FF                MOV     R7,A
000E 900000      R     MOV     DPTR,#tx
0011 EF                MOV     A,R7
0012 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 76
0013 900000      R     MOV     DPTR,#tx+01H
0016 7401              MOV     A,#01H
0018 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 77
0019 900000      R     MOV     DPTR,#tx+02H
001C 7401              MOV     A,#01H
001E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 78
001F 900000      R     MOV     DPTR,#tx+03H
0022 7401              MOV     A,#01H
0024 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 81
0025 900000      R     MOV     DPTR,#i
0028 E4                CLR     A
0029 F0                MOVX    @DPTR,A
002A         ?C0014:
002A 900000      R     MOV     DPTR,#i
002D E0                MOVX    A,@DPTR
002E FF                MOV     R7,A
002F EF                MOV     A,R7
0030 C3                CLR     C
0031 9404              SUBB    A,#04H
0033 501C              JNC     ?C0015
                                           ; SOURCE LINE # 82
0035 900000      R     MOV     DPTR,#i
0038 E0                MOVX    A,@DPTR
0039 FF                MOV     R7,A
003A 7400        R     MOV     A,#LOW tx
003C 2F                ADD     A,R7
003D F582              MOV     DPL,A
003F E4                CLR     A
0040 3400        R     ADDC    A,#HIGH tx
0042 F583              MOV     DPH,A
0044 E0                MOVX    A,@DPTR
0045 FF                MOV     R7,A
0046 120000      E     LCALL   _UART_Servo_PutChar
                                           ; SOURCE LINE # 83
0049 900000      R     MOV     DPTR,#i
004C E0                MOVX    A,@DPTR
004D 04                INC     A
004E F0                MOVX    @DPTR,A
004F 80D9              SJMP    ?C0014
0051         ?C0015:
                                           ; SOURCE LINE # 85
0051 900000      R     MOV     DPTR,#i
0054 E4                CLR     A
0055 F0                MOVX    @DPTR,A
0056         ?C0017:
0056 900000      R     MOV     DPTR,#i
0059 E0                MOVX    A,@DPTR
005A FF                MOV     R7,A
005B EF                MOV     A,R7
C51 COMPILER V9.51   KONDO_SERVO                                                           12/10/2015 22:46:07 PAGE 12  

005C C3                CLR     C
005D 9405              SUBB    A,#05H
005F 501C              JNC     ?C0018
                                           ; SOURCE LINE # 86
0061 120000      E     LCALL   UART_Servo_GetChar
0064 900000      R     MOV     DPTR,#i
0067 E0                MOVX    A,@DPTR
0068 FE                MOV     R6,A
0069 7400        R     MOV     A,#LOW rx
006B 2E                ADD     A,R6
006C F582              MOV     DPL,A
006E E4                CLR     A
006F 3400        R     ADDC    A,#HIGH rx
0071 F583              MOV     DPH,A
0073 EF                MOV     A,R7
0074 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 87
0075 900000      R     MOV     DPTR,#i
0078 E0                MOVX    A,@DPTR
0079 04                INC     A
007A F0                MOVX    @DPTR,A
007B 80D9              SJMP    ?C0017
007D         ?C0018:
                                           ; SOURCE LINE # 88
007D 7FE8              MOV     R7,#0E8H
007F 7E03              MOV     R6,#03H
0081 7D00              MOV     R5,#00H
0083 7C00              MOV     R4,#00H
0085 120000      E     LCALL   _?CyDelay
                                           ; SOURCE LINE # 89
0088 22                RET     
             ; FUNCTION _ID_Write (END)



MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    807    ----
   CONSTANT SIZE    =     16    ----
   XDATA SIZE       =   ----     195
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  11 WARNING(S),  0 ERROR(S)
